import{a as m}from"./axios.0a901153.js";import{_ as d,c as p,a as t,w as i,v as l,b as c,o as u,p as _,d as f}from"./index.ecb6e060.js";const h="http://45.56.115.113:8001/api-token-auth/",g={name:"Login",data(){return{form:{username:"",password:""},token:null,region:null}},methods:{submitForm(){console.log(this.form),m.post(h,this.form).then(o=>{this.token=o.data.token,this.region=o.data.region,localStorage.setItem("token",this.token),localStorage.setItem("region",this.region),this.$router.push({name:"Dashboard"}),localStorage.setItem("username",this.form.username)}).catch(o=>{}).finally(()=>{})}}},r=o=>(_("data-v-135253c4"),o=o(),f(),o),b={id:"login"},w=r(()=>t("h1",{class:"h3 mb-3 font-weight-normal"},"Sema na Kiongozi Wako",-1)),k=r(()=>t("label",{for:"inputEmail",class:"sr-only"},"Enter Username",-1)),v=r(()=>t("label",{for:"inputPassword",class:"sr-only"},"Password",-1)),y=r(()=>t("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"Sign in",-1)),S=r(()=>t("p",{class:"mt-2 mb-3 text-muted"},"\xA9 2021-2022",-1));function x(o,e,I,U,n,a){return u(),p("div",b,[t("form",{onSubmit:e[2]||(e[2]=c((...s)=>a.submitForm&&a.submitForm(...s),["prevent"])),class:"form-signin"},[w,k,i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.form.username=s),type:"text",id:"inputEmail",class:"form-control",placeholder:"Username",required:"",autofocus:""},null,512),[[l,n.form.username]]),v,i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.form.password=s),type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:""},null,512),[[l,n.form.password]]),y,S],32)])}const B=d(g,[["render",x],["__scopeId","data-v-135253c4"]]);export{B as default};
